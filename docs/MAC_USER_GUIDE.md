# macOS 用户使用指南

## ⚠️ 首次打开应用

### 问题："软件已损坏，无法打开，你应该将它移到废纸篓"

这是 macOS Gatekeeper 的安全保护机制，因为应用未经 Apple 公证。

### ✅ 解决方法（3种）

#### 方法1：右键打开（推荐）

1. **不要双击**应用图标
2. **右键点击**应用图标
3. 选择"**打开**"
4. 点击"**打开**"按钮确认

#### 方法2：系统设置打开

1. 双击应用（会提示错误）
2. 打开"系统设置" → "隐私与安全性"
3. 向下滚动，找到"仍要打开"
4. 点击"打开"按钮

#### 方法3：终端命令（最快）

```bash
# 移除隔离属性
sudo xattr -cr /Applications/Cursor续杯工具.app

# 或者使用路径
sudo xattr -cr /path/to/Cursor续杯工具.app
```

输入密码后，再双击打开即可。

---

## 🔧 SQLite 架构问题

### 问题：arm64 vs x86_64 不兼容

已修复！现在使用**纯 JavaScript 实现的 SQLite**（sql.js），无架构问题。

### 支持的 Mac

- ✅ Intel Mac (x64)
- ✅ Apple Silicon Mac (M1/M2/M3 - arm64)
- ✅ Universal 版本（同时支持两种）

---

## 📦 下载对应版本

| Mac 类型 | 下载版本 |
|----------|---------|
| Intel Mac | Cursor续杯工具_mac_x64.dmg |
| Apple Silicon (M1/M2/M3) | Cursor续杯工具_mac_arm64.dmg |
| 通用版（推荐） | Cursor续杯工具_mac_universal.dmg |

**不确定？** 下载 **universal** 版本，自动适配！

---

## 💡 常见问题

### Q: 打开后闪退？
A: 右键打开，不要双击

### Q: 无法打开？
A: 执行 `sudo xattr -cr` 命令移除隔离

### Q: 提示需要管理员权限？
A: macOS 版本无需管理员权限（Windows 版本才需要）

### Q: 重置机器码失败？
A: 
1. 完全关闭 Cursor 应用
2. 等待3秒
3. 再重试

---

## 🎯 正确的使用流程

1. **关闭 Cursor**
2. **打开续杯工具**
3. **输入授权码**
4. **点击一键续杯**
5. **等待3-5秒**（不是20秒了！）
6. **完成！**

---

## 📞 仍然有问题？

检查列表：
- [ ] 是否右键打开（不是双击）
- [ ] 是否已关闭 Cursor
- [ ] 是否下载了正确架构的版本
- [ ] 是否执行了 xattr 命令

如果以上都正常但仍有问题，请提供：
1. macOS 版本
2. Mac 型号（Intel / M1 / M2 / M3）
3. 错误截图

---

打包时使用：
```bash
npm run build:mac-universal
```

这会生成支持所有 Mac 的通用版本！🎉


