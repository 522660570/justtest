# 应用程序调试指南

## 应用程序崩溃问题排查

如果你的exe文件双击后立即退出，请按以下步骤排查：

### 1. 查看日志文件

应用程序会自动记录详细的运行日志，日志文件位置：
```
C:\Users\[你的用户名]\.cursor-renewal-tool\logs\
```

日志文件命名格式：`app-YYYY-MM-DD.log`

### 2. 使用日志查看脚本

我们提供了一个便捷的日志查看脚本：

```bash
node view-logs.js
```

这个脚本会：
- 自动找到日志文件位置
- 显示最新的日志内容
- 高亮显示错误信息
- 显示文件大小和修改时间

### 3. 手动查看日志

如果脚本无法运行，你也可以手动查看：

1. 打开文件资源管理器
2. 导航到 `C:\Users\[你的用户名]\.cursor-renewal-tool\logs\`
3. 找到最新的日志文件（按日期命名）
4. 用记事本或其他文本编辑器打开

### 4. 常见问题和解决方案

#### 问题1：应用程序无法启动
**症状**: 双击exe后立即退出，没有窗口显示

**排查步骤**:
1. 查看日志文件中的 `[FATAL]` 和 `[ERROR]` 条目
2. 检查是否缺少必要文件（如 `dist/index.html`）
3. 检查是否有权限问题

**常见解决方案**:
- 右键以管理员身份运行
- 检查杀毒软件是否阻止了应用程序
- 确保所有依赖文件都存在

#### 问题2：页面加载失败
**症状**: 应用程序启动但显示空白页面或错误页面

**排查步骤**:
1. 查看日志中的 `did-fail-load` 事件
2. 检查 `dist/` 目录下的文件是否完整
3. 确认构建过程没有错误

#### 问题3：渲染进程崩溃
**症状**: 应用程序启动后突然关闭

**排查步骤**:
1. 查看日志中的 `render-process-gone` 事件
2. 检查是否有JavaScript错误
3. 查看内存使用情况

### 5. 收集调试信息

如果问题仍然存在，请收集以下信息：

1. **系统信息**:
   - Windows版本
   - 系统架构 (x64/x86)
   - 可用内存

2. **应用程序信息**:
   - 完整的日志文件内容
   - exe文件大小和创建时间
   - 是否有杀毒软件报告

3. **错误重现步骤**:
   - 具体操作步骤
   - 错误发生的时间
   - 是否每次都发生

### 6. 开发者模式调试

如果你有开发环境，可以使用开发者模式进行更详细的调试：

```bash
# 安装依赖
npm install

# 开发模式运行
npm run dev

# 查看开发者工具
# 应用程序会自动打开Chrome开发者工具
```

### 7. 命令行启动查看错误

你也可以从命令行启动exe文件来查看实时错误信息：

1. 打开命令提示符（cmd）
2. 导航到exe文件所在目录
3. 直接输入exe文件名启动
4. 观察命令行输出的错误信息

### 8. 联系支持

如果以上步骤都无法解决问题，请提供：
- 完整的日志文件
- 系统信息
- 详细的错误描述
- 重现步骤

## 日志级别说明

- `[INFO]`: 正常运行信息
- `[ERROR]`: 一般错误，应用程序可以继续运行
- `[FATAL]`: 严重错误，应用程序无法继续运行
- `[WARNING]`: 警告信息，不影响正常运行

## 性能优化

如果应用程序运行缓慢：

1. 检查日志文件大小，定期清理
2. 关闭不必要的后台程序
3. 确保有足够的可用内存
4. 检查磁盘空间是否充足

## 安全注意事项

- 日志文件可能包含敏感信息，请谨慎分享
- 建议定期清理过期的日志文件
- 不要在公共网络环境下运行应用程序
