# Cursor Manager 使用说明

## 🚀 快速启动

### 方式一：使用启动脚本（推荐）

**Windows用户:**
```bash
# 双击运行或在命令行中执行
docs\scripts\start.bat
```

**Linux/Mac用户:**
```bash
# 给脚本添加执行权限（仅首次需要）
chmod +x docs/scripts/start.sh
# 运行脚本
./docs/scripts/start.sh
```

### 方式二：手动启动

```bash
# 1. 安装依赖（仅首次需要）
npm install

# 2. 启动开发服务器
npm run dev

# 3. 在新终端窗口中启动Electron应用
npm run electron
```

## 📱 界面说明

### 1. 环境监控面板
- **系统信息**: 显示操作系统类型和机器ID
- **安装状态**: 检查Cursor是否正确安装
- **进程状态**: 监控Cursor是否正在运行
- **进程控制**: 提供启动/关闭Cursor的按钮
- **路径配置**: 显示Cursor相关文件的路径

### 2. 账号管理面板
- **统计概览**: 显示总账号数、可用账号数等统计信息
- **账号列表**: 展示所有账号的详细信息，包括使用情况
- **搜索筛选**: 支持按邮箱搜索和按状态筛选
- **账号操作**: 选择账号、验证Token有效性
- **智能选择**: 一键选择使用量最少的可用账号

### 3. 操作中心面板
- **一键重置**: 执行完整的自动化重置流程
- **机器ID管理**: 查看和重置当前机器ID
- **账号切换**: 切换到选中的账号
- **状态监控**: 实时显示系统和Cursor状态
- **操作指南**: 显示操作步骤说明

### 4. 操作日志面板
- **日志统计**: 按类型统计操作记录
- **日志列表**: 显示详细的操作日志
- **搜索过滤**: 支持关键词搜索和类型筛选
- **详细信息**: 可展开查看操作的详细信息

## 🎯 使用流程

### 新手推荐流程

1. **启动应用**
   - 使用`docs\scripts\start.bat`（Windows）或`./docs/scripts/start.sh`（Linux/Mac）启动
   - 等待应用窗口打开

2. **检查环境**
   - 在"环境监控"面板查看Cursor安装和运行状态
   - 确认所有路径配置正确

3. **查看账号**
   - 切换到"账号管理"面板
   - 查看可用账号列表和使用情况

4. **执行重置**
   - 切换到"操作中心"面板
   - 点击"完整重置流程"按钮
   - 等待自动完成所有步骤

5. **查看结果**
   - 在"操作日志"面板查看操作记录
   - 确认重置成功

### 高级用户流程

1. **选择特定账号**
   - 在"账号管理"中选择想要使用的账号
   - 可以验证账号Token有效性

2. **分步操作**
   - 根据需要单独执行机器ID重置
   - 或单独执行账号切换
   - 手动控制Cursor进程

3. **监控状态**
   - 实时查看环境状态变化
   - 查看详细的操作日志

## ⚙️ 功能详解

### 完整重置流程
自动执行以下步骤：
1. 自动选择使用量最少的可用账号
2. 关闭所有Cursor进程
3. 生成新的机器ID
4. 更新本地账号存储信息
5. 清理缓存和临时文件
6. 重新启动Cursor

### 机器ID重置
- 生成全新的64位十六进制机器标识符
- 备份原有机器ID（保存为`.backup`文件）
- 更新Cursor配置文件

### 账号切换
- 验证目标账号Token有效性
- 更新本地存储的认证信息
- 替换用户配置数据
- 确保账号信息同步

### 环境检测
- 跨平台路径自动识别（Windows/macOS/Linux）
- 实时进程状态监控
- 安装状态验证
- 配置文件完整性检查

## 🛠️ 故障排除

### 常见问题

**1. 应用无法启动**
- 确保已安装Node.js（16.0或更高版本）
- 运行`npm install`安装依赖
- 检查是否有其他程序占用端口5173

**2. Cursor检测失败**
- 确认Cursor已正确安装
- 检查安装路径是否标准
- 尝试手动指定Cursor路径

**3. 权限错误**
- 以管理员权限运行应用
- 确保对Cursor配置目录有写入权限
- 检查防病毒软件是否阻止操作

**4. 账号切换失败**
- 确认选中的账号Token有效
- 检查网络连接
- 验证账号未被封禁

**5. 机器ID重置无效**
- 确保Cursor完全关闭
- 检查配置文件路径是否正确
- 重启应用后重试

### 调试模式
开发模式下会自动打开开发者工具，可以：
- 查看控制台错误信息
- 检查网络请求状态
- 调试JavaScript代码

## 📋 最佳实践

### 使用建议
1. **定期备份**: 重要操作前备份Cursor配置
2. **选择合适时机**: 在Cursor空闲时进行重置操作
3. **监控日志**: 关注操作日志中的警告和错误信息
4. **合理使用**: 避免频繁重置，遵守使用条款

### 安全提示
1. **管理员权限**: 仅在需要时使用管理员权限
2. **网络安全**: 确保在安全的网络环境中使用
3. **账号安全**: 不要分享账号信息
4. **数据保护**: 定期备份重要配置和数据

## 🔧 自定义配置

### 账号数据格式
如果要连接真实的后端API，请修改`src/services/AccountService.js`：

```javascript
// 修改API基础URL
this.apiClient = axios.create({
  baseURL: 'http://your-backend-api.com/api',
  // ... 其他配置
})

// 替换mock数据为真实API调用
async getAvailableAccounts() {
  const response = await this.apiClient.get('/accounts/available')
  return response.data
}
```

### 路径自定义
如果Cursor安装在非标准路径，可以修改`src/services/CursorService.js`中的`getCursorPaths()`方法。

## 📞 获取帮助

如果遇到问题：
1. 查看操作日志面板中的错误信息
2. 检查控制台输出
3. 参考GitHub Issues
4. 联系开发者

---

**重要提醒**: 本工具仅供学习研究使用，请遵守相关软件的使用条款和法律法规。使用过程中产生的任何后果由使用者自行承担。

