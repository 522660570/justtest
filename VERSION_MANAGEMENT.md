# ç‰ˆæœ¬å·ç®¡ç†è¯´æ˜

## ğŸ“ ç‰ˆæœ¬å·é…ç½®ä½ç½®ï¼ˆéœ€åŒæ­¥3å¤„ï¼‰

å½“å‰ç‰ˆæœ¬ï¼š**1.2.0**

### 1. package.jsonï¼ˆä¸»ç‰ˆæœ¬å·ï¼‰
**æ–‡ä»¶**: `package.json` **ç¬¬3è¡Œ**
```json
"version": "1.2.0",  â† ä¸»ç‰ˆæœ¬å·
```

### 2. VersionService.jsï¼ˆå‘é€ç»™åç«¯ï¼‰
**æ–‡ä»¶**: `src/services/VersionService.js` **ç¬¬94è¡Œ**
```javascript
getCurrentVersion() {
  return '1.2.0'  â† å‘é€ç»™åç«¯çš„ç‰ˆæœ¬å·
}
```

### 3. App.vueï¼ˆç•Œé¢æ˜¾ç¤ºï¼‰
**æ–‡ä»¶**: `src/App.vue` **ç¬¬355è¡Œ**
```javascript
const appVersion = ref('1.2.0')  â† ç•Œé¢æ˜¾ç¤ºçš„ç‰ˆæœ¬å·
```

---

## âœï¸ å¦‚ä½•ä¿®æ”¹ç‰ˆæœ¬å·

### æ­¥éª¤1: ä¿®æ”¹ package.json

```json
{
  "version": "1.3.0",  // æ–°ç‰ˆæœ¬å·
  ...
}
```

### æ­¥éª¤2: ä¿®æ”¹ VersionService.js

```javascript
getCurrentVersion() {
  return '1.3.0'  // æ”¹æˆä¸ package.json ä¸€è‡´
}
```

### æ­¥éª¤3: ä¿®æ”¹ App.vue

```javascript
const appVersion = ref('1.3.0')  // æ”¹æˆä¸ package.json ä¸€è‡´
```

---

## âš ï¸ é‡è¦ï¼šå¿…é¡»ä¿æŒä¸‰å¤„ä¸€è‡´ï¼

å¦åˆ™ä¼šå‡ºç°ï¼š
- âŒ ç•Œé¢æ˜¾ç¤ºçš„ç‰ˆæœ¬å·å’Œå®é™…ä¸åŒ
- âŒ å‘é€ç»™åç«¯çš„ç‰ˆæœ¬å·ä¸å¯¹
- âŒ æ‰“åŒ…åçš„æ–‡ä»¶åç‰ˆæœ¬å·ä¸å¯¹

---

## ğŸ¤– æœªæ¥ä¼˜åŒ–å»ºè®®

å¯ä»¥æ”¹æˆè‡ªåŠ¨ä» package.json è¯»å–ï¼Œé¿å…æ‰‹åŠ¨åŒæ­¥ï¼š

### æ–¹æ¡ˆ1: ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰

**vite.config.js**:
```javascript
import { defineConfig } from 'vite'
import { readFileSync } from 'fs'

const packageJson = JSON.parse(readFileSync('./package.json', 'utf-8'))

export default defineConfig({
  define: {
    '__APP_VERSION__': JSON.stringify(packageJson.version)
  }
})
```

**src/services/VersionService.js**:
```javascript
getCurrentVersion() {
  return __APP_VERSION__  // è‡ªåŠ¨ä» package.json è¯»å–
}
```

### æ–¹æ¡ˆ2: ä½¿ç”¨ Electron APIï¼ˆå·²å®ç°ï¼‰

**src/App.vue**:
```javascript
// ä» Electron è·å–ç‰ˆæœ¬å·
const version = await window.electronAPI.getAppVersion()
appVersion.value = version  // è‡ªåŠ¨åŒæ­¥
```

---

## ğŸ“ ç‰ˆæœ¬å·è§„èŒƒï¼ˆSemverï¼‰

### æ ¼å¼: `X.Y.Z`

- **Xï¼ˆä¸»ç‰ˆæœ¬ï¼‰**: ä¸å…¼å®¹çš„ API ä¿®æ”¹
- **Yï¼ˆæ¬¡ç‰ˆæœ¬ï¼‰**: å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- **Zï¼ˆä¿®è®¢å·ï¼‰**: å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

### ç¤ºä¾‹:

```
1.0.0 â†’ é¦–æ¬¡å‘å¸ƒ
1.1.0 â†’ æ–°å¢åŠŸèƒ½ï¼ˆå¦‚ï¼šæ·»åŠ æœºå™¨ç è°ƒè¯•å·¥å…·ï¼‰
1.1.1 â†’ Bug ä¿®å¤ï¼ˆå¦‚ï¼šä¿®å¤ EPERM é”™è¯¯ï¼‰
1.2.0 â†’ æ–°åŠŸèƒ½ï¼ˆå¦‚ï¼šä¼˜åŒ–é€Ÿåº¦ï¼‰
2.0.0 â†’ é‡å¤§æ›´æ–°ï¼ˆå¦‚ï¼šé‡å†™æ¶æ„ï¼‰
```

---

## ğŸ¯ å½“å‰ç‰ˆæœ¬è¯´æ˜

**v1.2.0** (2025-11-10)

**æ–°åŠŸèƒ½**:
- âœ¨ æœºå™¨ç é‡ç½®åŠŸèƒ½å®Œå–„
- âœ¨ æ¢å·é€Ÿåº¦ä¼˜åŒ–ï¼ˆ6-8å€æå‡ï¼‰
- âœ¨ å…¨å¹³å°å…¼å®¹æ€§ä¿®å¤

**Bug ä¿®å¤**:
- ğŸ› ä¿®å¤ macOS SQLite æ¶æ„é—®é¢˜
- ğŸ› ä¿®å¤ Windows å¯åŠ¨å´©æºƒ
- ğŸ› ä¿®å¤ Mac "è½¯ä»¶å·²æŸå"
- ğŸ› ä¿®å¤ storage.json EPERM é”™è¯¯

**æ€§èƒ½ä¼˜åŒ–**:
- âš¡ æ¢å·æ—¶é—´ï¼š20ç§’ â†’ 3ç§’
- âš¡ å¯åŠ¨é€Ÿåº¦æå‡
- âš¡ å“åº”æ›´æµç•…

---

## ğŸ“‹ ç‰ˆæœ¬æ›´æ–°æ£€æŸ¥æ¸…å•

å‘å¸ƒæ–°ç‰ˆæœ¬å‰ï¼š

- [ ] ä¿®æ”¹ `package.json` version
- [ ] ä¿®æ”¹ `VersionService.js` getCurrentVersion()
- [ ] ä¿®æ”¹ `App.vue` appVersion é»˜è®¤å€¼
- [ ] ç¡®è®¤ä¸‰å¤„ç‰ˆæœ¬å·ä¸€è‡´
- [ ] æ›´æ–° CHANGELOGï¼ˆå¦‚æœæœ‰ï¼‰
- [ ] æµ‹è¯•ç‰ˆæœ¬æ£€æŸ¥åŠŸèƒ½
- [ ] é‡æ–°æ‰“åŒ…

---

**è®°ä½ï¼šæ”¹ç‰ˆæœ¬å·è¦æ”¹3ä¸ªåœ°æ–¹ï¼** ğŸ“Œ

